<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AtOne Mirror</title>
<style>
    body {
        margin: 0;
        font-family: 'Montserrat', sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background: #fff;
    }

    #start-screen {
        position: relative;
        width: 100%;
        height: 100vh;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    .mirror-bg {
        position: absolute;
        width: 90%;
        max-width: 400px;
        z-index: 0;
        opacity: 0.15;
    }

    .camera-left, .camera-right {
        position: absolute;
        width: 80px;
        opacity: 0.8;
        z-index: 1;
    }

    .camera-left { left: 5%; top: 20%; }
    .camera-right { right: 5%; top: 20%; }

    h1, h2 {
        z-index: 2;
        margin: 0;
        letter-spacing: 1px;
        text-align: center;
    }

    h1 {
        font-size: 20px;
        font-weight: 300;
        margin-bottom: 8px;
    }

    h2 {
        font-size: 42px;
        font-weight: 800;
        margin-bottom: 24px;
    }

    .start-button {
        z-index: 2;
        padding: 14px 28px;
        font-size: 16px;
        border-radius: 999px;
        border: none;
        cursor: pointer;
        background: #222;
        color: #fff;
        font-weight: 700;
    }

    .start-button[disabled]{
        opacity: 0.35;
        cursor: not-allowed;
    }

    #quiz-screen {
        display: none;
        width: 100%;
        height: 100vh;
        overflow-y: auto;
        padding: 50px 16px;
        box-sizing: border-box;
        text-align: center;
    }

    header {
        font-size: 18px;
        font-weight: 700;
        margin-bottom: 22px;
        color: #222;
    }

    .question {
        font-size: 20px;
        font-weight: 700;
        margin: 16px 0 18px;
        color: #222;
    }

    .result {
        font-size: 18px;
        font-weight: 700;
        margin-top: 28px;
        color: #222;
    }

    .pinterest-link {
        display: inline-block;
        margin-top: 14px;
        color: #d62976;
        font-weight: 700;
        text-decoration: none;
    }

    .fade-in-left {
        animation: fadeInLeft 1.2s ease forwards;
        opacity: 0;
    }

    .fade-in-right {
        animation: fadeInRight 1.2s ease forwards;
        opacity: 0;
    }

    @keyframes fadeInLeft {
        from { transform: translateX(-30px); opacity: 0; }
        to   { transform: translateX(0); opacity: 1; }
    }

    @keyframes fadeInRight {
        from { transform: translateX(30px); opacity: 0; }
        to   { transform: translateX(0); opacity: 1; }
    }
</style>
</head>
<body>
    <div id="start-screen">
        <img src="mirror.jpg" alt="Mirror" class="mirror-bg">
        <img src="camera.jpg" alt="Camera Left" class="camera-left">
        <img src="camera.jpg" alt="Camera Right" class="camera-right">
        <h1 class="fade-in-left">Hello, New My Style</h1>
        <h2 class="fade-in-right">AtOne Mirror</h2>
        <button class="start-button" id="start-btn">Start</button>
    </div>

    <div id="quiz-screen">
        <header>AtOne Mirror</header>
        <div class="question-container" id="quiz-container"></div>
    </div>

<script>
const DATA = {"male": [{"style": "ストリート", "age_set": ["10代", "20代", "30代"], "hair_set": ["パーマ", "センターパート", "マッシュ", "ナチュラル"], "hobby_set": ["スケボー", "スニーカー", "ヒップホップ"], "items": ["スニーカー", "パーカー", "キャップ"], "brands": ["Supreme", "Stüssy", "Nike"]}, {"style": "カジュアル", "age_set": ["10代", "20代", "30代", "40代"], "hair_set": ["ショート", "ナチュラル", "パーマ"], "hobby_set": ["カフェ", "映画"], "items": ["デニム", "スニーカー", "Tシャツ"], "brands": ["UNIQLO", "GU", "Gap"]}, {"style": "モード", "age_set": ["20代", "30代", "40代"], "hair_set": ["センターパート", "ウルフカット"], "hobby_set": ["美術館", "写真", "SNS"], "items": ["ロングコート", "ワイドパンツ", "ブーツ"], "brands": ["COMME des GARÇONS", "Yohji Yamamoto"]}, {"style": "ミリタリー", "age_set": ["20代", "30代", "40代"], "hair_set": ["ベリーショート", "バズカット", "フェードカット"], "hobby_set": ["アウトドア", "ゲーム"], "items": ["MA-1ジャケット", "カーゴパンツ", "ミリタリーシャツ"], "brands": ["Alpha Industries", "Buzz Rickson’s"]}, {"style": "アメカジ", "age_set": ["10代", "20代", "30代"], "hair_set": ["ショート", "パーマ"], "hobby_set": ["ツーリング", "アウトドア", "古着"], "items": ["デニム", "チェック", "レザージャケット"], "brands": ["Levi’s", "Lee", "Wrangler", "Red Wing"]}, {"style": "スポーティー", "age_set": ["10代", "20代", "30代"], "hair_set": ["ショート", "ツーブロック"], "hobby_set": ["筋トレ", "ランニング", "サッカー"], "items": ["ジャージ", "スニーカー", "ナイロンジャケット"], "brands": ["adidas", "Nike", "PUMA"]}, {"style": "シティボーイ", "age_set": ["20代", "30代", "40代"], "hair_set": ["センターパート", "ナチュラル", "マッシュ"], "hobby_set": ["カフェ", "本", "映画"], "items": ["シャツ", "チノパン", "トートバッグ"], "brands": ["BEAMS", "URBAN RESEARCH", "nanamica"]}, {"style": "韓国系", "age_set": ["10代", "20代", "30代"], "hair_set": ["マッシュ", "センターパート"], "hobby_set": ["韓国ドラマ", "K-POP", "美容"], "items": ["オーバーサイズジャケット", "スラックス", "スニーカー"], "brands": ["SPAO", "8seconds", "ZARA"]}, {"style": "ロック", "age_set": ["20代", "30代", "40代"], "hair_set": ["ウルフカット", "ロング", "パーマ"], "hobby_set": ["音楽", "ライブ", "ギター"], "items": ["レザージャケット", "黒スキニー", "ブーツ"], "brands": ["Dr.Martens", "Schott", "Saint Laurent"]}, {"style": "バンド系", "age_set": ["10代", "20代", "30代"], "hair_set": ["マッシュ", "パーマ", "黒髪"], "hobby_set": ["バンド", "ライブ", "フェス"], "items": ["黒Tシャツ", "チェックシャツ", "スニーカー"], "brands": ["VANS", "CONVERSE", "WEGO"]}, {"style": "サーフ系", "age_set": ["20代", "30代", "40代"], "hair_set": ["ロング", "パーマ", "ラフ"], "hobby_set": ["サーフィン", "海", "キャンプ"], "items": ["ボードショーツ", "タンクトップ", "サンダル"], "brands": ["Quiksilver", "Billabong", "RVCA"]}, {"style": "アウトドア", "age_set": ["20代", "30代", "40代", "50代"], "hair_set": ["ショート", "ナチュラル"], "hobby_set": ["キャンプ", "登山", "釣り"], "items": ["マウンテンパーカー", "カーゴパンツ", "スニーカー"], "brands": ["THE NORTH FACE", "Patagonia", "Columbia"]}, {"style": "スケーター", "age_set": ["10代", "20代", "30代"], "hair_set": ["マッシュ", "パーマ", "キャップ"], "hobby_set": ["スケボー", "ストリート", "音楽"], "items": ["オーバーサイズT", "ワークパンツ", "スニーカー"], "brands": ["VANS", "Thrasher", "Supreme"]}, {"style": "古着系", "age_set": ["10代", "20代", "30代", "40代"], "hair_set": ["パーマ", "ナチュラル", "マッシュ"], "hobby_set": ["古着", "カフェ", "写真"], "items": ["リメイクシャツ", "デニム", "スニーカー"], "brands": ["Ralph Lauren", "Levi’s", "Champion"]}, {"style": "ビジカジ", "age_set": ["30代", "40代", "50代"], "hair_set": ["ショート", "七三分け", "ナチュラル"], "hobby_set": ["仕事", "カフェ", "旅行"], "items": ["ジャケット", "革靴", "スラックス"], "brands": ["UNITED ARROWS", "TOMORROWLAND", "SUIT SELECT"]}, {"style": "きれいめ", "age_set": ["20代", "30代", "40代", "50代"], "hair_set": ["センターパート", "ショート"], "hobby_set": ["カフェ", "読書", "旅行"], "items": ["シャツ", "スラックス", "ローファー"], "brands": ["ZARA", "H&M", "UNIQLO"]}, {"style": "トラッド", "age_set": ["30代", "40代", "50代"], "hair_set": ["クラシック", "七三分け"], "hobby_set": ["ゴルフ", "美術館"], "items": ["ジャケット", "ローファー"], "brands": ["Brooks Brothers", "Ralph Lauren"]}, {"style": "プレッピー", "age_set": ["20代", "30代"], "hair_set": ["ショート", "七三分け"], "hobby_set": ["カフェ", "映画", "勉強"], "items": ["カーディガン", "チノパン", "ローファー"], "brands": ["POLO", "BEAMS", "UNIQLO"]}, {"style": "ミニマル", "age_set": ["20代", "30代", "40代", "50代"], "hair_set": ["ショート", "センターパート", "ナチュラル"], "hobby_set": ["読書", "カフェ", "デザイン"], "items": ["白シャツ", "黒パンツ", "スニーカー"], "brands": ["MUJI", "COS", "UNIQLO"]}], "female": [{"style": "ストリート", "age_set": ["10代", "20代", "30代"], "hair_set": ["ハイトーン", "ボブ", "レイヤー", "ポニーテール"], "hobby_set": ["スケボー", "スニーカー", "ダンス"], "items": ["スニーカー", "パーカー", "キャップ"], "brands": ["X-girl", "Nike", "Supreme"]}, {"style": "カジュアル", "age_set": ["10代", "20代", "30代", "40代", "50代"], "hair_set": ["ショート", "ボブ", "ナチュラル"], "hobby_set": ["カフェ", "映画", "ショッピング"], "items": ["デニム", "Tシャツ", "スニーカー"], "brands": ["UNIQLO", "GU", "earth music&ecology"]}, {"style": "モード", "age_set": ["20代", "30代", "40代"], "hair_set": ["ウルフカット", "黒髪ロング", "ハイトーン"], "hobby_set": ["美術館", "写真", "SNS"], "items": ["ロングコート", "ブーツ", "ワイドパンツ"], "brands": ["COMME des GARÇONS", "Yohji Yamamoto", "MM6"]}, {"style": "ガーリー", "age_set": ["10代", "20代", "30代"], "hair_set": ["ロング", "巻き髪", "ツインテール"], "hobby_set": ["スイーツ", "カフェ", "推し活"], "items": ["ワンピース", "フリルブラウス", "パンプス"], "brands": ["snidel", "titty&Co.", "Lily Brown"]}, {"style": "フェミニン", "age_set": ["20代", "30代", "40代", "50代"], "hair_set": ["ロング", "ミディアム", "巻き髪"], "hobby_set": ["カフェ", "旅行", "美容"], "items": ["ブラウス", "スカート", "パンプス"], "brands": ["FRAY I.D", "Mila Owen", "NATURAL BEAUTY BASIC"]}, {"style": "スポーティー", "age_set": ["10代", "20代", "30代"], "hair_set": ["ポニーテール", "ショート", "ボブ"], "hobby_set": ["筋トレ", "ランニング", "ヨガ"], "items": ["ジャージ", "スニーカー", "ナイロンジャケット"], "brands": ["adidas", "Nike", "UNDER ARMOUR"]}, {"style": "シティガール", "age_set": ["20代", "30代", "40代"], "hair_set": ["ボブ", "ミディアム", "レイヤー"], "hobby_set": ["カフェ", "読書", "映画"], "items": ["シャツ", "チノパン", "トートバッグ"], "brands": ["BEAMS", "URBAN RESEARCH", "IENA"]}, {"style": "韓国系", "age_set": ["10代", "20代", "30代"], "hair_set": ["ヨシンモリ", "タンバルモリ", "ハイトーン"], "hobby_set": ["韓国ドラマ", "K-POP", "美容"], "items": ["オーバーサイズジャケット", "スラックス", "スニーカー"], "brands": ["SPAO", "8seconds", "ZARA"]}, {"style": "ロック", "age_set": ["20代", "30代", "40代"], "hair_set": ["ウルフカット", "黒髪ロング", "パーマ"], "hobby_set": ["音楽", "ライブ", "ギター"], "items": ["レザージャケット", "黒スキニー", "ブーツ"], "brands": ["Dr.Martens", "Schott", "Saint Laurent"]}, {"style": "バンド系", "age_set": ["10代", "20代", "30代"], "hair_set": ["黒髪ロング", "ボブ", "前髪あり"], "hobby_set": ["バンド", "ライブ", "フェス"], "items": ["黒Tシャツ", "チェックシャツ", "スニーカー"], "brands": ["VANS", "CONVERSE", "WEGO"]}, {"style": "サーフ系", "age_set": ["20代", "30代", "40代"], "hair_set": ["ラフウェーブ", "ロング", "ハイトーン"], "hobby_set": ["サーフィン", "海", "キャンプ"], "items": ["ボードショーツ", "タンクトップ", "サンダル"], "brands": ["Roxy", "Billabong", "RVCA"]}, {"style": "アウトドア", "age_set": ["20代", "30代", "40代", "50代"], "hair_set": ["ショート", "ナチュラル", "ポニーテール"], "hobby_set": ["キャンプ", "登山", "釣り"], "items": ["マウンテンパーカー", "カーゴパンツ", "スニーカー"], "brands": ["THE NORTH FACE", "Patagonia", "Columbia"]}, {"style": "古着系", "age_set": ["10代", "20代", "30代", "40代"], "hair_set": ["パーマ", "ナチュラル", "ボブ"], "hobby_set": ["古着", "カフェ", "写真"], "items": ["リメイクシャツ", "デニム", "スニーカー"], "brands": ["Ralph Lauren", "Levi’s", "Champion"]}, {"style": "きれいめ", "age_set": ["20代", "30代", "40代", "50代"], "hair_set": ["ミディアム", "ボブ", "ナチュラル"], "hobby_set": ["カフェ", "読書", "旅行"], "items": ["シャツ", "スラックス", "パンプス"], "brands": ["ZARA", "H&M", "UNIQLO"]}, {"style": "ビジカジ", "age_set": ["30代", "40代", "50代"], "hair_set": ["ショート", "まとめ髪", "ナチュラル"], "hobby_set": ["仕事", "カフェ", "旅行"], "items": ["ジャケット", "パンプス", "スラックス"], "brands": ["UNITED ARROWS", "TOMORROWLAND", "PLST"]}, {"style": "トラッド", "age_set": ["30代", "40代", "50代"], "hair_set": ["クラシックボブ", "まとめ髪"], "hobby_set": ["ゴルフ", "美術館"], "items": ["ジャケット", "ローファー"], "brands": ["Brooks Brothers", "Ralph Lauren"]}, {"style": "プレッピー", "age_set": ["20代", "30代"], "hair_set": ["ボブ", "まとめ髪"], "hobby_set": ["カフェ", "映画", "勉強"], "items": ["カーディガン", "チノパン", "ローファー"], "brands": ["POLO", "BEAMS", "UNIQLO"]}, {"style": "ミニマル", "age_set": ["20代", "30代", "40代", "50代"], "hair_set": ["ショート", "ボブ", "ナチュラル"], "hobby_set": ["読書", "カフェ", "デザイン"], "items": ["白シャツ", "黒パンツ", "スニーカー"], "brands": ["MUJI", "COS", "UNIQLO"]}, {"style": "エレガント", "age_set": ["30代", "40代", "50代"], "hair_set": ["ロング", "巻き髪", "まとめ髪"], "hobby_set": ["旅行", "美容", "美術館"], "items": ["ワンピース", "ヒール", "バッグ"], "brands": ["FOXEY", "Tory Burch", "Max Mara"]}]};

// ------------------------------
// Elements
// ------------------------------
const startScreen = document.getElementById("start-screen");
const quizScreen  = document.getElementById("quiz-screen");
const startBtn    = document.getElementById("start-btn");
const container   = document.getElementById("quiz-container");

startBtn.addEventListener("click", () => {
  startScreen.style.display = "none";
  quizScreen.style.display = "block";
  quizScreen.scrollTop = 0;
  window.scrollTo(0, 0);
  initQuiz();
});

// ------------------------------
// Quiz state
// ------------------------------
const state = {
  step: 0,
  gender: null,   // 'male' | 'female'
  age: null,      // '10代'..'50代'
  hair: [],       // array of strings (multi)
  hobby: []       // array of strings (multi)
};

const AGE_OPTIONS = ["10代","20代","30代","40代","50代"];

const steps = [
  { key: "gender", label: "Step 1 / 4", question: "性別を選択してください", options: ["女性","男性"], multi: false },
  { key: "age",    label: "Step 2 / 4", question: "年齢層を選択してください", options: AGE_OPTIONS, multi: false },
  { key: "hair",   label: "Step 3 / 4", question: "髪型を選択してください（複数選択可）", optionsFrom: "hair_set", multi: true },
  { key: "hobby",  label: "Step 4 / 4", question: "趣味を選択してください（複数選択可）", optionsFrom: "hobby_set", multi: true },
];

function clearContainer(){
  container.innerHTML = "";
}

function makeOptionButton(text, selected){
  const btn = document.createElement("div");
  btn.className = "option-btn";
  btn.textContent = text;
  btn.style.padding = "14px 16px";
  btn.style.margin = "10px auto";
  btn.style.maxWidth = "520px";
  btn.style.borderRadius = "16px";
  btn.style.border = selected ? "1px solid #222" : "1px solid #ddd";
  btn.style.cursor = "pointer";
  btn.style.userSelect = "none";
  btn.style.fontSize = "16px";
  btn.style.textAlign = "center";
  btn.style.backgroundColor = selected ? "#222" : "#fff";
  btn.style.color = selected ? "#fff" : "#222";
  return btn;
}

function hasIntersection(a, b){
  if(!Array.isArray(a) || !Array.isArray(b) || a.length === 0 || b.length === 0) return false;
  const s = new Set(a);
  return b.some(x => s.has(x));
}

function toggleInArray(arr, value){
  const idx = arr.indexOf(value);
  if(idx >= 0){
    arr.splice(idx, 1);
  } else {
    arr.push(value);
  }
}

function getRowsForGender(){
  if(!state.gender) return [];
  return DATA[state.gender] || [];
}

function rowsMatchingAge(rows){
  if(!state.age) return rows;
  return rows.filter(r => (r.age_set || []).includes(state.age));
}

function uniqOptions(rows, setKey){
  const s = new Set();
  rows.forEach(r => (r[setKey] || []).forEach(v => s.add(v)));
  return Array.from(s);
}

function getOptionsForStep(stepKey){
  const rows = getRowsForGender();

  if(stepKey === "hair"){
    const ageRows = rowsMatchingAge(rows);
    const opts = uniqOptions(ageRows, "hair_set");
    return opts.length ? opts : uniqOptions(rows, "hair_set");
  }

  if(stepKey === "hobby"){
    const ageRows = rowsMatchingAge(rows);

    const hairFilteredRows = (state.hair && state.hair.length > 0)
      ? ageRows.filter(r => hasIntersection(state.hair, (r.hair_set || [])))
      : ageRows;

    let opts = uniqOptions(hairFilteredRows, "hobby_set");
    if(!opts.length) opts = uniqOptions(ageRows, "hobby_set");
    if(!opts.length) opts = uniqOptions(rows, "hobby_set");
    return opts;
  }

  return [];
}

function initQuiz(){
  state.step = 0;
  state.gender = null;
  state.age = null;
  state.hair = [];
  state.hobby = [];
  renderStep();
}

function renderStep(){
  clearContainer();

  const stepDef = steps[state.step];

  const stepElem = document.createElement("div");
  stepElem.className = "result";
  stepElem.style.marginTop = "0";
  stepElem.style.fontSize = "16px";
  stepElem.style.color = "#777";
  stepElem.textContent = stepDef.label;
  container.appendChild(stepElem);

  const qElem = document.createElement("div");
  qElem.className = "question";
  qElem.textContent = stepDef.question;
  container.appendChild(qElem);

  const optionsDiv = document.createElement("div");
  const opts = stepDef.options ? stepDef.options : getOptionsForStep(stepDef.key);

  opts.forEach(opt => {
    const selected =
      (stepDef.key === "gender" && ((state.gender === "female" && opt === "女性") || (state.gender === "male" && opt === "男性"))) ||
      (stepDef.key === "age"    && state.age === opt) ||
      (stepDef.key === "hair"   && Array.isArray(state.hair) && state.hair.includes(opt)) ||
      (stepDef.key === "hobby"  && Array.isArray(state.hobby) && state.hobby.includes(opt));

    const btn = makeOptionButton(opt, selected);

    btn.onclick = () => {
      if(stepDef.multi){
        if(stepDef.key === "hair"){
          toggleInArray(state.hair, opt);
          state.hobby = [];
        } else if(stepDef.key === "hobby"){
          toggleInArray(state.hobby, opt);
        }
        renderStep();
        return;
      }

      if(stepDef.key === "gender"){
        state.gender = (opt === "男性") ? "male" : "female";
      } else if(stepDef.key === "age"){
        state.age = opt;
        state.hair = [];
        state.hobby = [];
      }

      if(state.step < steps.length - 1){
        state.step += 1;
        renderStep();
      } else {
        renderResults();
      }
    };

    optionsDiv.appendChild(btn);
  });

  container.appendChild(optionsDiv);

  const actions = document.createElement("div");
  actions.style.marginTop = "26px";
  actions.style.display = "flex";
  actions.style.justifyContent = "center";
  actions.style.gap = "12px";
  actions.style.flexWrap = "wrap";

  if(state.step > 0){
    const backBtn = document.createElement("button");
    backBtn.className = "start-button";
    backBtn.textContent = "Back";
    backBtn.style.backgroundColor = "#fff";
    backBtn.style.color = "#222";
    backBtn.style.border = "1px solid #222";
    backBtn.onclick = () => {
      state.step -= 1;
      renderStep();
    };
    actions.appendChild(backBtn);
  }

  if(stepDef.multi){
    const nextBtn = document.createElement("button");
    nextBtn.className = "start-button";
    nextBtn.textContent = "Next";

    const selectedCount =
      (stepDef.key === "hair"  ? state.hair.length :
       stepDef.key === "hobby" ? state.hobby.length : 0);

    nextBtn.disabled = (selectedCount === 0);

    nextBtn.onclick = () => {
      if(state.step < steps.length - 1){
        state.step += 1;
        renderStep();
      } else {
        renderResults();
      }
    };

    actions.appendChild(nextBtn);
  }

  if(actions.childNodes.length > 0){
    container.appendChild(actions);
  }
}

function overlapFraction(selectedArr, rowArr){
  if(!Array.isArray(selectedArr) || selectedArr.length === 0) return 0;
  const rowSet = new Set(Array.isArray(rowArr) ? rowArr : []);
  let hit = 0;
  for(const v of selectedArr){
    if(rowSet.has(v)) hit += 1;
  }
  return hit / selectedArr.length; // 0.0〜1.0
}

function scoreRow(row){
  const ageScore = (state.age && (row.age_set || []).includes(state.age)) ? 1 : 0;

  const hairScore  = overlapFraction(state.hair,  row.hair_set);  // 0〜1
  const hobbyScore = overlapFraction(state.hobby, row.hobby_set); // 0〜1

  const score = ageScore + hairScore + hobbyScore; // 0.0〜3.0
  const pct = Math.round((score / 3) * 100);

  return { score, pct };
}

function renderResults(){
  clearContainer();

  const rows = getRowsForGender();
  const scored = rows.map((r, idx) => {
    const s = scoreRow(r);
    return { ...r, _score: s.score, _pct: s.pct, _idx: idx };
  }).sort((a,b) => b._score - a._score || b._pct - a._pct || a._idx - b._idx);

  const top = scored.slice(0, 3);

  const title = document.createElement("div");
  title.className = "question";
  title.textContent = "あなたに合いそうなスタイル（上位3件）";
  container.appendChild(title);

  top.forEach((r, idx) => {
    const box = document.createElement("div");
    box.style.border = "1px solid #eee";
    box.style.borderRadius = "16px";
    box.style.padding = "16px";
    box.style.margin = "10px auto";
    box.style.maxWidth = "520px";
    box.style.textAlign = "left";

    const h = document.createElement("div");
    h.style.fontSize = "18px";
    h.style.fontWeight = "700";
    h.textContent = `${idx+1}. ${r.style}`;

    const p1 = document.createElement("div");
    p1.style.marginTop = "8px";
    p1.style.fontSize = "14px";
    p1.style.color = "#555";
    p1.textContent = `一致度: ${r._pct}%`;

    const p2 = document.createElement("div");
    p2.style.marginTop = "8px";
    p2.style.fontSize = "14px";
    p2.style.color = "#222";
    const items = (r.items || []).join("、");
    p2.textContent = `定番アイテム: ${items || "—"}`;

    const p3 = document.createElement("div");
    p3.style.marginTop = "6px";
    p3.style.fontSize = "14px";
    p3.style.color = "#222";
    const brands = (r.brands || []).join("、");
    p3.textContent = `ブランド: ${brands || "—"}`;

    const link = document.createElement("a");
    link.className = "pinterest-link";
    link.style.display = "inline-block";
    link.style.marginTop = "10px";
    link.href = "https://www.pinterest.com/search/pins/?q=" + encodeURIComponent(r.style);
    link.target = "_blank";
    link.textContent = "Pinterestで見る";

    box.appendChild(h);
    box.appendChild(p1);
    box.appendChild(p2);
    box.appendChild(p3);
    box.appendChild(link);
    container.appendChild(box);
  });

  const actions = document.createElement("div");
  actions.style.marginTop = "26px";
  actions.style.display = "flex";
  actions.style.justifyContent = "center";
  actions.style.gap = "12px";
  actions.style.flexWrap = "wrap";

  const restart = document.createElement("button");
  restart.className = "start-button";
  restart.textContent = "もう一度診断する";
  restart.onclick = initQuiz;

  const backToStart = document.createElement("button");
  backToStart.className = "start-button";
  backToStart.textContent = "トップへ戻る";
  backToStart.style.backgroundColor = "#fff";
  backToStart.style.color = "#222";
  backToStart.style.border = "1px solid #222";
  backToStart.onclick = () => {
    quizScreen.style.display = "none";
    quizScreen.scrollTop = 0;
    window.scrollTo(0, 0);
    startScreen.style.display = "flex";
  };

  actions.appendChild(backToStart);
  actions.appendChild(restart);
  container.appendChild(actions);
}

quizScreen.style.display = "none";
</script>

</body>
</html>
